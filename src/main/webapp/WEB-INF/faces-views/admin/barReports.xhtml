<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>

<ui:composition template="/applayout/pageTemplate.xhtml" xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:b="http://bootsfaces.net/ui"
                xmlns:ui="http://java.sun.com/jsf/facelets">

    <ui:composition template="/applayout/pageTemplate.xhtml">
        <ui:define name="content">
            <h1>Reports for Projects (Bar)</h1>

            <canvas id="reports"></canvas>

            <b:button onclick="generatePDF('bar', window.canvas)" value="Download PDF" iconAwesome="download"/>

        </ui:define>
        <ui:define name="other-footer">
            <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js" integrity="sha256-CfcERD4Ov4+lKbWbYqXD6aFM9M51gN4GUEtDhkWABMo=" crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.5/jspdf.min.js" integrity="sha256-YHd/E8OX5o5GcqyHHas3xH3i7aP8z8KmMrL3WLMJfIY=" crossorigin="anonymous"></script>
            <script>
                ctx = document.getElementById("reports").getContext('2d');
                window.canvas = ctx.canvas;

                var data = {
                    labels: ["Estimated Cost", "Current Cost", "Difference"],
                    datasets: [{
                        label: "Project 3",
                        backgroundColor: "rgba(200,0,0,0.2)",
                        data: [65, 75, 70 ]
                    }, {
                        label: "Project 2",
                        backgroundColor: "rgba(0,0,200,0.2)",
                        data: [54, 65, 60]
                    },
                        {
                            label: "Project 1",
                            backgroundColor: "rgba(200,200,250,0.6)",
                            data: [12, 65, 60]
                        }],


                    borderWidth: 1,
                    borderColor : '#123',
                    hoverBorderColor : '#123'
                };

                var reports = new Chart(ctx, {
                    type: 'bar',
                    data: data
                });
            </script>
        </ui:define>
    </ui:composition>
</ui:composition>
